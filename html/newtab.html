<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NewTab+</title>
    <link rel="stylesheet" href="../css/newtab.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
  </head>
  <body>
    <div class="container">
      <header>
        <h1>NewTab+</h1>
        <div class="controls-container">
          <button
            id="calendar-toggle-btn"
            class="icon-btn"
            title="Toggle Calendar View"
          >
            <i class="fas fa-calendar-alt"></i>
          </button>
          <div class="theme-controls">
            <div class="theme-toggle">
              <label for="theme-select">Theme:</label>
              <select id="theme-select">
                <option value="system">System</option>
                <option value="light">Light</option>
                <option value="dark">Dark</option>
              </select>
              <button
                id="theme-toggle-btn"
                class="icon-btn"
                title="Toggle Theme"
              >
                <i class="fas fa-moon"></i>
              </button>
            </div>
          </div>
        </div>
        <div class="date-time">
          <div id="current-time"></div>
          <div id="current-date"></div>
        </div>
      </header>

      <!-- Calendar Section - Hidden by default -->
      <section class="card" id="calendar-card" style="display: none">
        <div class="card-header">
          <h2><i class="fas fa-calendar-alt"></i> Calendar</h2>
          <div class="calendar-controls">
            <select id="calendar-view-selector">
              <option value="month">Month</option>
              <option value="week">Week</option>
              <option value="day">Day</option>
            </select>
          </div>
        </div>
        <div
          class="card-content calendar-card-content"
          style="max-height: none; overflow: visible"
        >
          <div id="calendar-container" class="calendar-container">
            <div class="calendar-header">
              <div class="calendar-nav">
                <button id="calendar-prev" class="calendar-nav-btn">
                  <i class="fas fa-chevron-left"></i>
                </button>
                <div id="calendar-date-display" class="calendar-date"></div>
                <button id="calendar-next" class="calendar-nav-btn">
                  <i class="fas fa-chevron-right"></i>
                </button>
              </div>
              <button id="calendar-today" class="calendar-today-btn">
                Today
              </button>
            </div>
            <div id="calendar-content" class="calendar-content"></div>
          </div>
        </div>
      </section>

      <div class="dashboard">
        <!-- Timed Tab Recall Section -->
        <section class="card" id="timed-tabs">
          <div class="card-header">
            <h2><i class="fas fa-clock"></i> Timed Tabs</h2>
            <button id="add-timed-tab" class="action-btn">
              <i class="fas fa-plus"></i>
            </button>
          </div>
          <div class="card-content">
            <div id="timed-tabs-list" class="list-container"></div>
          </div>
        </section>

        <!-- Notes Section -->
        <section class="card" id="notes">
          <div class="card-header">
            <h2><i class="fas fa-sticky-note"></i> Notes</h2>
            <button id="add-note" class="action-btn">
              <i class="fas fa-plus"></i>
            </button>
          </div>
          <div class="card-content">
            <div id="notes-search">
              <input type="text" placeholder="Search notes..." />
            </div>
            <div id="notes-categories">
              <button data-category="all" class="active">All</button>
              <button data-category="personal">Personal</button>
              <button data-category="work">Work</button>
              <button data-category="ideas">Ideas</button>
              <button id="add-category">+ Add</button>
            </div>
            <div id="notes-list" class="list-container"></div>
          </div>
        </section>

        <!-- To-Do List Section -->
        <section class="card" id="todos">
          <div class="card-header">
            <h2><i class="fas fa-tasks"></i> To-Do List</h2>
            <button id="add-todo" class="action-btn">
              <i class="fas fa-plus"></i>
            </button>
          </div>
          <div class="card-content">
            <div id="todo-filters">
              <button data-filter="incomplete" class="active">
                Incomplete
              </button>
              <button data-filter="all">All</button>
              <button data-filter="today">Today</button>
              <button data-filter="upcoming">Upcoming</button>
              <button data-filter="completed">Completed</button>
            </div>
            <div id="todo-list" class="list-container"></div>
          </div>
        </section>

        <!-- Reminders Section -->
        <section class="card" id="reminders">
          <div class="card-header">
            <h2><i class="fas fa-bell"></i> Reminders</h2>
            <button id="add-reminder" class="action-btn">
              <i class="fas fa-plus"></i>
            </button>
          </div>
          <div class="card-content">
            <div id="reminders-list" class="list-container"></div>
          </div>
        </section>
      </div>
    </div>

    <!-- Modal Templates -->
    <div id="modal-container" class="hidden">
      <!-- Tab Timer Modal -->
      <div id="tab-timer-modal" class="modal">
        <div class="modal-content">
          <span class="close-modal">&times;</span>
          <h2>Schedule Tab</h2>
          <form id="tab-timer-form">
            <div class="form-group">
              <label for="tab-url">URL:</label>
              <input type="url" id="tab-url" required />
            </div>
            <div class="form-group">
              <label for="tab-title">Title:</label>
              <input type="text" id="tab-title" required />
            </div>
            <div class="form-group">
              <label for="tab-date">Date & Time:</label>
              <input type="datetime-local" id="tab-date" required />
            </div>
            <div class="form-group">
              <label>Open Type:</label>
              <div class="radio-group">
                <input
                  type="radio"
                  id="open-auto"
                  name="open-type"
                  value="auto"
                  checked
                />
                <label for="open-auto">Open Automatically</label>
                <input
                  type="radio"
                  id="open-notify"
                  name="open-type"
                  value="notify"
                />
                <label for="open-notify">Notify Only</label>
              </div>
            </div>
            <div class="form-group" id="open-options">
              <label>Open In:</label>
              <div class="radio-group">
                <input
                  type="radio"
                  id="open-foreground"
                  name="open-location"
                  value="foreground"
                  checked
                />
                <label for="open-foreground">Foreground</label>
                <input
                  type="radio"
                  id="open-background"
                  name="open-location"
                  value="background"
                />
                <label for="open-background">Background</label>
              </div>
            </div>
            <button type="submit" class="btn-primary">Save</button>
          </form>
        </div>
      </div>

      <!-- Note Modal -->
      <div id="note-modal" class="modal">
        <div class="modal-content">
          <span class="close-modal">&times;</span>
          <h2>Add/Edit Note</h2>
          <form id="note-form">
            <div class="form-group">
              <label for="note-title">Title:</label>
              <input type="text" id="note-title" required />
            </div>
            <div class="form-group">
              <label for="note-category">Category:</label>
              <select id="note-category">
                <option value="personal">Personal</option>
                <option value="work">Work</option>
                <option value="ideas">Ideas</option>
                <!-- Dynamic categories will be added here -->
              </select>
            </div>
            <div class="form-group">
              <label for="note-content">Content:</label>
              <textarea id="note-content" rows="6" required></textarea>
            </div>
            <button type="submit" class="btn-primary">Save</button>
          </form>
        </div>
      </div>

      <!-- Note View Modal -->
      <div id="note-view-modal" class="modal">
        <div class="modal-content note-view-content">
          <span class="close-modal">&times;</span>
          <div class="note-view-header">
            <h2 id="note-view-title"></h2>
            <div class="note-view-meta">
              <span id="note-view-category" class="note-category"></span>
              <span id="note-view-date" class="note-date"></span>
            </div>
          </div>
          <div id="note-view-content" class="markdown-content"></div>
          <div class="note-view-actions">
            <button id="note-view-edit" class="btn-secondary">Edit</button>
          </div>
        </div>
      </div>

      <!-- Todo Modal -->
      <div id="todo-modal" class="modal">
        <div class="modal-content">
          <span class="close-modal">&times;</span>
          <h2>Add/Edit Todo</h2>
          <form id="todo-form">
            <div class="form-group">
              <label for="todo-text">Task:</label>
              <input type="text" id="todo-text" required />
            </div>
            <div class="form-group">
              <label for="todo-duedate">Due Date & Time (Optional):</label>
              <input type="datetime-local" id="todo-duedate" />
            </div>
            <div class="form-group">
              <label for="todo-priority">Priority:</label>
              <select id="todo-priority">
                <option value="low">Low</option>
                <option value="medium" selected>Medium</option>
                <option value="high">High</option>
              </select>
            </div>
            <div class="form-group">
              <label for="todo-recurring">Recurring:</label>
              <select id="todo-recurring">
                <option value="none">None</option>
                <option value="daily">Daily</option>
                <option value="weekly">Weekly</option>
                <option value="monthly">Monthly</option>
              </select>
            </div>
            <button type="submit" class="btn-primary">Save</button>
          </form>
        </div>
      </div>

      <!-- Reminder Modal -->
      <div id="reminder-modal" class="modal">
        <div class="modal-content">
          <span class="close-modal">&times;</span>
          <h2>Add/Edit Reminder</h2>
          <form id="reminder-form">
            <div class="form-group">
              <label for="reminder-title">Title:</label>
              <input type="text" id="reminder-title" required />
            </div>
            <div class="form-group">
              <label for="reminder-message">Message:</label>
              <textarea id="reminder-message" rows="3" required></textarea>
            </div>
            <div class="form-group">
              <label for="reminder-time">Date & Time:</label>
              <input type="datetime-local" id="reminder-time" required />
            </div>
            <div class="form-group">
              <label for="reminder-recurring">Recurring:</label>
              <select id="reminder-recurring">
                <option value="none">None</option>
                <option value="daily">Daily</option>
                <option value="weekly">Weekly</option>
                <option value="monthly">Monthly</option>
              </select>
            </div>
            <div class="form-group">
              <label for="reminder-action">Action:</label>
              <select id="reminder-action">
                <option value="notification">Show Notification</option>
                <option value="open-tab">Open Tab</option>
              </select>
            </div>
            <div
              class="form-group"
              id="reminder-tab-url-container"
              style="display: none"
            >
              <label for="reminder-tab-url">URL to Open:</label>
              <input type="url" id="reminder-tab-url" />
            </div>
            <button type="submit" class="btn-primary">Save</button>
          </form>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="../js/newtab.js"></script>
    <script src="../js/tabs.js"></script>
    <script src="../js/notes.js"></script>
    <script src="../js/todos.js"></script>
    <script src="../js/reminders.js"></script>
    <script src="../js/calendar.js"></script>
  </body>
</html>
